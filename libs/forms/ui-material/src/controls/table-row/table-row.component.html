<tr class="mat-row">
  <td class="mat-cell"
    *ngFor="let control of controls; index as i"
    dynFactory
    [config]="control"
    [injector]="configLayer"
    [index]="i"
  ></td>

  <td class="dyn-table-controls mat-cell" *ngIf="mode !== 'display'">
    <button
      *ngIf="mode !== 'edit'"
      mat-icon-button
      type="button"
      (click)="onEdit()"
    ><mat-icon>edit</mat-icon></button>

    <button
      *ngIf="mode !== 'edit'"
      mat-icon-button
      type="button"
      (click)="remove.emit()"
    ><mat-icon>delete</mat-icon></button>

    <button
      *ngIf="mode === 'edit'"
      mat-icon-button
      type="button"
      [disabled]="!node.control.valid"
      (click)="onSave()"
    ><mat-icon>done</mat-icon></button>

    <button
      *ngIf="mode === 'edit'"
      mat-icon-button
      type="button"
      (click)="onCancel()"
    ><mat-icon>close</mat-icon></button>
  </td>
</tr>
